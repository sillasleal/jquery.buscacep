$.fn.buscacep=function(o){var t,e="https://api.postmon.com.br/v1/cep/",r=!1,a=$(this),n={container:$(a).closest(".buscacep-container"),trigger:{seletor:$(this),event:"change"},onLoad:{class:"disabled",target:$(this)},events:{onStart:function(o){},onLoad:function(o){},onEnd:function(){},onError:function(o){}},targets:{}};void 0!==o&&(void 0!==o.container&&(n.container=o.container),void 0!==o.trigger&&(void 0!==o.trigger.seletor&&(n.trigger.seletor=o.trigger.seletor),void 0!==o.trigger.event&&(n.trigger.event=o.trigger.event)),void 0!==o.onLoad&&(void 0!==o.onLoad.class&&(n.onLoad.class=o.onLoad.class),void 0!==o.onLoad.target&&(n.onLoad.target=o.onLoad.target)),void 0!==o.events&&("function"==typeof o.events.onStart&&(n.events.onStart=o.events.onStart),"function"==typeof o.events.onLoad&&(n.events.onLoad=o.events.onLoad),"function"==typeof o.events.onEnd&&(n.events.onEnd=o.events.onEnd),"function"==typeof o.events.onError&&(n.events.onError=o.events.onError))),t=$(n.container),t.length||(t=$("body")),n.targets={logradouro:t.find(".buscacep-logradouro"),bairro:t.find(".buscacep-bairro"),cidade:t.find(".buscacep-cidade"),estado:t.find(".buscacep-estado")},void 0!==o&&void 0!==o.targets&&(void 0!==o.targets.logradouro&&(n.targets.logradouro=o.targets.logradouro),void 0!==o.targets.bairro&&(n.targets.bairro=o.targets.bairro),void 0!==o.targets.cidade&&(n.targets.cidade=o.targets.cidade),void 0!==o.targets.estado&&(n.targets.estado=o.targets.estado)),$(n.trigger.seletor).on(n.trigger.event,function(){var o=$(a).val().replace(/[^\d]+/g,"");8!==o.length||r||(r=!1,$(n.onLoad.target).addClass(n.onLoad.class),n.events.onStart(o),$.getJSON(e+o).done(function(o){n.events.onLoad(o),"object"==typeof o&&Object.keys(o).length>0?($(n.targets.logradouro).val(o.logradouro),$(n.targets.bairro).val(o.bairro),$(n.targets.cidade).val(o.cidade),$(n.targets.estado).val(o.estado)):n.events.onError(o),r=!1,$(n.onLoad.target).removeClass(n.onLoad.class),n.events.onEnd()}).fail(function(o){r=!1,$(n.onLoad.target).removeClass(n.onLoad.class),n.events.onError(o)}))})};